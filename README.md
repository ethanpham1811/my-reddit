# My Reddit Clone Web App

![My Reddit](public/readme/readme.jpg)

# NextJs + MUI + GraphQL

## Demo

You can find the [live demo](https://my-reddit-ethan.vercel.app/) here

## Overview

- This project provides full-stack source code with [NextJS 13](https://nextjs.org/docs)

- Core FE framework [ReactJS 18](https://react.dev/learn)

- Production is deployed on [Vercel](https://vercel.com/)

## Technical recap

- All pages are server side rendered & prefetched with [ISG](https://vercel.com/docs/incremental-static-regeneration)

- Data fetching, cache and optimistic update with [Apollo v3](https://www.apollographql.com/docs/react/)

- GraphQL schemas & api built with [Stepzen](https://stepzen.com/)

- PostgreSQL db & storage are hosted on [Supabase](https://supabase.com/)

- 99% [MaterialUI_v5](https://mui.com/material-ui/getting-started/) customized component

- NextJS [Page router](https://nextjs.org/docs/pages)

## Features list

Common:

- [x] Serverside rendering with ISG

- [x] Responsive mobile design

- [x] Avatar/cover/color of User/Subreddit randomly generated by seed

- [x] Dark mode

Login

- [x] Login with email (guest account provided)

- [ ] Login with Facebook account

- [x] Login with Github account

- [x] Account registration

Navbar

- [x] Menu navigator with filter

- [x] Search bar

- [x] Top trending

- [ ] Notification box

- [x] Login

- [x] Profile Menu

- - [x] User page

- - [ ] Online / Offline

- - [x] Dark mode

- - [x] User agreement

- - [x] Logout

Homepage:

- [x] New feeds - Post list

- [x] Lazy load on scroll

- [x] Order / Sort controls

- [x] Create new post

- [x] Create new subreddit

- [ ] Premium subcription with Paypal

User page:

- [x] User info panel

- [x] User info inline update

- [x] Follow / Unfollow

- [x] User's post list

Subreddit page:

- [x] Subreddit avatar cover top nav

- [ ] Subreddit info inline update

- [x] Join/leave subreddit

- [x] Subreddit's post list

Create post form

- [x] Create post with Rich text editor

- [x] Create post with link

- [x] Image uploader

Post:

- [x] Create / Edit / Delete

- [x] Vote (create / delete / update)

- [x] Comment (create) with filter

- [x] Image zoom viewport

Search page:

- [x] Top trending posts

- [x] Top Subreddit (by members)

- [x] Search by Post

- [x] Search by Subreddit

- [x] Search by user

## Getting Started

### Install dependencies:

```bash

npm
#or
yarn

```

### Run dev:

```bash

npm  run  dev
#or
yarn  dev

```

### Build & run prod:

```bash

npm  run  build
npm  run  start

#or

yarn  build
yarn  start

```

Navigate [http://localhost:3000](http://localhost:3000) (Both Dev & Prod)

## Environments & configuration

Currently only one dev environment

## Typescript & linting

### Compile typescript

> Typescript validation won't be triggered on dev mode, please build before pushing to repository.

```bash

npm  run  build
# or
yarn  build

```

### Linting

> Add this comment on top of the next line you want ignore eslint just in case

> `// eslint-disable-next-line <lint>`

```bash

npm  run  lint
# or
yarn  lint

```

## Unit tests

Add .env.test with params in .env.local, then proceed with command:

```bash

npm  run  test
# or
yarn  test

```

To run with coverage summary:

```bash

npm  run  test  --coverage
# or
yarn  test  --coverage

```

## .env

Keys need that is used to access the `.env` variables in runtime:

### private (server only)

1.  **NEXTAUTH_SECRET** : Nextjs Auth secret (for Authentication - currently unused)

2.  **NEXTAUTH_URL** : Nextjs Auth url (for Authentication - currently unused) [http://localhost:3000]

### Public (exposed to client)

1.  **NEXT_PUBLIC_STEPZEN_HOST** : Stepzen qraphQL api end point

2.  **NEXT_PUBLIC_STEPZEN_API_KEY** : Stepzen api key [**::stepzen.io+1000::**]

3.  **NEXT_PUBLIC_SUPABASE_URL** : Supabase host [db.**.supabase.co]

4.  **NEXT_PUBLIC_SUPABASE_ANON_KEY** : Supabase anon key

5.  **NEXT_PUBLIC_SUPABASE_IMAGE_BUCKET_URL** : Supabase storage endpoint

6.  **NEXT_PUBLIC_TINY_MCE_API_KEY** : Rich text editor api key

## Crossbrowsers support

> The browser version must at least match the below chart or above for the `animation` & `fallback` to work properly

| | |

| ------- | --: |

| Chrome | 20 |

| Firefox | 28 |

| Safari | 6.1 |

| Edge | 12 |

| IE | 11 |

| Opera | 12 |

## Packages & Dependencies

### Global dependencies

| | |

| ---------------------------------------------------- | ------- |

| [Node](https://nodejs.org/) | 16.16.0 |

| [Yarn](https://yarnpkg.com/) | 1.12.19 |

| [Supabase cli](https://supabase.com/docs/guides/cli) | 0.0.21 |

| [Stepzen](https://github.com/stepzen-dev) | 0.33.0 |

### Dependencies

| | |

| ----------------------------- | ------: |

| @apollo/client | 3.8.3 |

| @emotion/react | 11.11.1 |

| @mui/material | 5.14.10 |

| @supabase/auth-helpers-nextjs | 0.8.1 |

| @supabase/auth-helpers-react | 0.4.2 |

| @supabase/supabase-js | 2.37.0 |

| @tinymce/tinymce-react | 4.3.0 |

| bcrypt | 5.1.1 |

| csstype | 3.1.2 |

| date-fns | 2.30.0 |

| eslint | 8.49.0 |

| graphql | 16.8.0 |

| lodash | 4.17.21 |

| next | 13.5.4 |

| next-auth | 4.23.1 |

| random-avatar-generator | 2.0.0 |

| react | 18.2.0 |

| react-hook-form | 7.46.1 |

| react-hot-toast | 2.4.1 |

| react-html-parser | 2.0.2 |

| typescript | 5.2.2 |

| unique-names-generator | 4.7.1 |

| uuid | 9.0.1 |

### Dev dependencies

| | |

| ----------------------- | -----: |

| eslint | 8.49.0 |

| jest | 29.7.0 |

| jsdom | 22.1.0 |

| mock-fs | 5.2.0 |

| react-test-renderer | 18.2.0 |

| supabase | 1.115.4 |

| ts-node-dev | 2.0.0 |

| tslib | 2.6.2 |

| typescript | 5.2.2 |

## End-to-end tests (Playwright)

** coming soon **

## Maintenance

** coming soon **

## Technical tips

** coming soon **

## Further help

To get more help on deploying this, please contact me via [email] (ethanpham.etev@gmail.com)
